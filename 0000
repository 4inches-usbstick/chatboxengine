   _____ _           _   _                 ______             _              
  / ____| |         | | | |               |  ____|           (_)            
 | |    | |__   __ _| |_| |__   _____  __ | |__   _ __   __ _ _ _ __   ___   
 | |    | '_ \ / _` | __| '_ \ / _ \ \/ / |  __| | '_ \ / _` | | '_ \ / _ \  
 | |____| | | | (_| | |_| |_) | (_) >  <  | |____| | | | (_| | | | | |  __/  
  \_____|_| |_|\__,_|\__|_.__/ \___/_/\_\ |______|_| |_|\__, |_|_| |_|\___| 
                                                         __/ |                                
                                                        |___/          

================================
Documentation Page 
================================
--NEW THINGS--
1. You can draw up a design for CBE (with Google Slides, or by uploading a photo). Here: https://docs.google.com/presentation/d/1wJyToSliaW5eL-7SOK0Nu7cEUUU4BdjRt3-fWo2YBfA/edit?usp=sharing                                                                                   


---WHAT IS THIS?---
This (CBE) is a set of server-side scripts that acts as a template for communication tools, text-editing, data-storage and other things. It's open source,
so you can put it on your own server, and change it to do the correct things. Different servers can have CBE on them but do completely different things.

By default, Chatbox Engine is configured to act as a internet-chat server that can hold CBEDATA files (file that hold information in a containers and subcontainers structure). It comes
prepackaged with two APIs, one for Internet chat and one for CBEDATA.



--NEW FOR 1.1--

> I built it
> Started 28.Oct.2020

--NEW FOR 1.2--

> Live updating chats added
> Added button to go back to previous page after submitting comments
> Added homepage

--NEW FOR 1.2.2--
> Fixed error when submitting comments
> Disabled live update temporarily
> Added "back to home" buttons in some locations"

--NEW FOR 1.2.3--
> Fixed live chat

--NEW FOR 1.2.4--
> Now very easy to change refresh rate
> Added Terminal (RCmd)
> Now can upload files and post them (kind of)
> It took me 3 hours to make file uploads.

--NEW FOR 1.2.5--
> Fixed chat history issue

--NEW FOR 1.2.6--
> Added embed generator
> Created tab titles
> Disabled certain terminal functions
> Protected certain files
> Moved Documentation discussions to another chatbox (more below)

--NEW FOR 1.2.7--
> Added protection against certain chatbox names (ones that will break the system)
> Fixed the write issue in Terminal
> Updated homepage
> Banned certain single characters and certain numbers from being in use (such as 001, which can conflict with other parts of CBE)
> Established policy pages (pages that contain policies to make it easier to create them)
> Added 'help' command

--NEW FOR 1.2.8--
> Now have Chinese version (but encoder broken, new features and things are only in English)
> Inchat policy in development
> Updated documentation and added CWEHDEHTS
> Established the fact that I will now add dates to the Terminal and CB0000.


--NEW FOR 1.2.9-- <20.NOV.2020>
> Added different encoder functionality in chats (previously was only UTF-8)
> Chinese version tester was removed because of accuracy and encoder issues
> Added Timestamps enabled by first typing "rule.buffer" (without the quotes) then typing "rule.Timestamps(1)" (without the quotes) into the Chatbox, which then enables timestamps forever (anyone can turn the function on). The timestamps are in this format:

[H:M:S, DD.MM.YY]: message

> To pernaemently disable timestamps, for example, in a CBEDATA chatbox  you can type rule.Timestamps(1) as the first thing in the Chatbox, and any further commands to turn timestamps on will not be executed.

--NEW FOR 1.2.9 build 1001-- <29.NOV.2020>
> Added experimental pages that might see the light of day
> HTML editing within HTML chatboxes has been added
> These experimental pages are stored along with any other files, so if you have the technical knowledge, you can get to these pages and play.
> There is one Chatbox designated for testing this new function (20951049.html)
> Added Editing Terminal, so people with the key can edit messages and delete them. (you need the key because CBE is no sign in which means not having a key to protect is a bad idea.)
> These features may not be added.
> HTML chatboxes enabled initially.
> Began experimentation with CSS styled Chatbox pages

What we're considering adding in 1.3.1:
Y> Official support for HTML chatboxes
Y> Specific filesharing page (pages formatted for filesharing with CBE) (added!)
Y> Editing Terminal will become a pernament feature (but not publicly available for now) (added!)
N> New Editor (added as an extension.)
Y> Protecting policy pages (added!)
Y> Adding names (added!)

--NEW FOR 1.3.1-- <04.DEC.2020>

Actually Important Things:
> Change name. With the 'name' variable and GET method. Change your name when using the joinchatpublic.php page or when joining by URL.
> The Chatbox URL is now pasted in for you at the bottom so you don't have to use your own URL bar. Lazyass. (no jk its for the new name thing). If you don't intend to use names in this Chatbox, you don't have to. They're optional.
> Name changing and timestamps are only supported on the non-HTML chatboxes. 
> Added official support for HTML chatboxes
> Started piloting a program for the NTFS system (new technology file sharing). 
> Prevented unauthorized users from entering policy pages
> Removed CSS chatboxes
> Disabled write command once again
> Both Legacy and HTML chatboxes are supported.
> Editing Terminal button added
> On Chatbox creation, you can choose whether or not you want to allow file uploads.
> Debating whether the test-build method is a practical
> Added the ability to add backgrounds to your Chatboxes then implant them into the join by URL. To do this, just add "&bbg=$yourimageurl" to the end of the Join By URL without the quotes.
$yourimageurl is the URL of the image you want as a background. It cannot be too long or the server will deny your request. You can get this image from elsewhere or upload it to your Chatbox and take the URL from there.
> The words 'iframe' and 'script' are banned from the Chatboxes from now on, because they can be used to force malicious script upon your client. In other words, two words are banned because they can be used to hack everyone who even looks at the Chatbox, including the server.
Just misspell the words if you need to say 'iframe' or 'script'. Strings with that string are also shot down.
> The banned words filter also applies to Xedit.
> Created Remote Send Commands, which can be used to send messages by only entering a URL into browser's URL bar.

Fun Things: 
> Editing Terminal's short name is Xedit.
> RM Terminal's short name is Rcmd.
> Changed the logo and updated documentation
> Updated instructions
> Now, the logo is orange instead of blue.


--NEW FOR 1.3.2-- <06.DEC.2020>
> We have a Python version now. 71.255.240.10:8080/textengine/downloads/cbe_fordistro.py
> There is also a client specifically for sending terminal commands. 71.255.240.10:8080/textengine/downloads/cbe_terminal.py
> To open a Chatbox, enter the Chatbox number, the server IP (this IP), and a name (optional, you need the other two tho)
> I'm considering moving server side from PHP 7 to Python.
> Ultimately, I've elected to not do that.
> Integration Interface (is it an API? tell me pls). 71.255.240.10:8080/textengine/sitechats/info/ii.txt

--NEW FOR 1.3.3-- <12.DEC.2020>
> Added another function to the II: you can now create a Chatbox with the II.
> Added another II command generator to help you create a Chatbox.
> Patched HTML chatbox history problem
> Server was fixed after extended outages and failures
> Discord Bot beta started

--NEW FOR 1.3.4 <18.DEC.2020 to 25.DEC.2020>
> This version was specifically for the CBEDATA pilot. This allows you to store objects, or classes, and then to give those objects attributes.
> Read the documentation attributed to it. 71.255.240.10:8080/textengine/sitechats/info/cbedata.txt
> Made it so that if there was no media upload allowed, it would take away the option to upload media. Should have added this a long time ago.
> Deprecated the use of the referer within the II.
> Piloting High-Security Chatboxes as an extension (which will be loaded onto 71.255.240.10:8080). These Chatboxes require passwords to interact with, are presented as hidden files to clients, cannot be edited (even with the editing extension), make use of erasable file upload and have special files to handle them.
> This high security extension is only usable on Apache, where .ht* files are protected. 
> Got rid of the invisible buttons
> Established new datecode format
> Added div standard (inchat-div.php). Let me explain:

The livechat function is based off a concept of polling, where the client asks the server for new information every <unit of time>.

The divs standard makes HTTP requests and then switch the text out for the contents of that request. It requires JS to function.
The iframe standard opens a little window into the Chatbox, and that window is reloaded. It also requires JS to function.

Divs are for when the iframe standard doesn't work or is not preferred. The Divs standard is not recomended unless necessary.

Both these standards are for graphical reading of Chatboxes (the face of the Chat). On the backside, iframe and div both interface with the same standard.
This new standard does not affect the API.

inchat-div shows a GUI that is similar to the inchat4html page, however, unless you're in an HTML chatbox, you will not be able to use the HTML options
(it will not go through serverside).

--NEW FOR 1.3.5-- <25.DEC.2020 to PRESENT>
> Fixed div standard by preventing cache
> Fixed uploading
> Made universal upload a standard for all distributions (but disabled by deleting some files). See 71.255.240.10:8080/textengine/map.html.
> Added Report: tags as an extension. Unless you know me personally chances are you don't know what this is.


--HOW TO USE--

> These instructions change from the server you are on, so make sure to know what you're doing. I've not provided any because it's not the same between servers.
71.255.240.10:8080/textengine/sitechats/info for more documentation on things that are constant between servers, such as the API and CBEDATA.


--DATE REMINDER--
Also, whenever I make a new version, I have to update the credits.cbedata, and write some documentation.


--CWEHDEHTS (credits)--

PEOPLE:
------
Charles: serverside programming, server space, writing webpages / clients, writing 'documentation', integration interface.
Arjun, E***k, C****e and Unknown: testing Chatbox Engine, and believing in me while CBE was an infant.
Members of the Joint MCPS Discord Server: testing Chatbox engine and believing in me while CBE was a somewhat grown child.
http://patorjk.com/: documentation ASCII art.


SOFTWARES:
-------
PHP 7: Serverside, integration interface

Python: Clients
requests, tkinter, time (downloadable libraries for Python): Clients

HTML/JS/CSS: Web Client

WAMPSERVER + Windows: Server space


--WARNING--
Whatever you put in I can see and anyone else can see. So be careful with what you put in. (unless you use a HS chatbox).

--DOWNLOADS--
I allowed people to download a copy of CBE. Download it here: 71.255.240.10:8080/textengine/downloads/downloadable_engine.zip. From there you can look at the code. To implement this, first read the README.txt file. Instructions there.


--TECHNICAL THINGS--
Requires client-side Javascript. If you choose to download the files, you will have to replace all of the parts with the original filepaths and put in the correct paths and URLS for your filesystem and situation. The serverside is written in PHP 7.3, the downloadable client is written in Python 3.8. File uploads are capped at around 8-12 MB. HTML5 is a requirement for this to run and show properly. I'm too incompetent to leave comments or write actual good documentation for the people who take a copy of the engine.

The terminals is used for the server operator to remotely manage files without having to be at the server. 

You only need the files and folders in sitechats directory for the Engine to function. The Homepage and other pages are only sitemaps to help with navigation. Do not question the other files. Only question the files in sitechats directory. 
You will not recieve updates if you choose to have your own Engine. 

The most important files are:

createnewchat.php
newchat.php
joinchatpublic.php
joinchat.php
inchat.php
inchat4html.php
inchat_joinpage.php
inchat_joinpage_process.php
sendmsg.php
sendmsg4html.php
(in Media directory) upload1process.php
(in Media directory) uploadform.php
(in data directory) all files

For remote management you also want:

terminal.php
terminalprocess.php
adminedits.php
admineditsutil.php

The default admin key in these files is stored as "YOURKEYHERE (or d9eiq7, or shitfuckery420, idk)"
Change it when you get it.


-Python Client-

If you like, you can download the Python client. It makes use of the integration feature of CBE. You can actually create your own client.
To have it interface with CBE servers, you can use the functions provided in cbe_fordistro_functions.py.

-Integrations Interface-

If you generate a RSC (remote send command), all you need to do to send a message is to make a HTTP GET request to that specific URL. If the server replies with "200" and all the values you present to the server are valid, you should be good to go. This generator is located on the front page. This also exists for terminal commands, so you can 'ping' a chatbox and verify its existence, and run any non-admin command from the II, but the more useful commands are kept behind a lock / key for a reason. Edit commands have the same concept, but they're also kept under a keyed lock.
See 71.255.240.10:8080/textengine/sitechats/info/ii.txt for details. To create more integrations, all we have to do is use more GET instead of POST in PHP files. GET pages take necessary parameters from the URL (hat can be saved and shared). This is what allows for remote send commands.

There is also a downloadable Python Rcmd. It functions like the CBE terminal. It's right next to cbe_fordistro.py in the Downloads directory


-Embeds-
Embeds are outdate on CBE, however they still exist. On map.html, you can create an iframe that will have a little inchat.php in it. It's better to use the Integration Interface because you can control what the client sees, as well as the fact that iFrames aren't always the best.


-Credits Requirements-
You don't have to credit me or link back. You can also take credits for scripts and whatnot that change the functionality of CBE for people who download it. What you cannot do is take credit for the original scripts or claim them as your own work.  

-Installed Extensions-
The High-Security extension is installed on this server only.



--ATTENTION--
Meta discussions are closed.



